!function(t){"use strict";var e;t.scrollupbar=function(n,a){function o(){return s.scrollTop()<=n.offset().top}function i(){return s.scrollTop()<n.offset().top+n.outerHeight()}a=t.extend({enterViewport:t.noop,fullyEnterViewport:t.noop,exitViewport:t.noop,partiallyExitViewport:t.noop},a);var r,s=t(window),l=t(document),c="fixed"==n.css("position")?0:n.offset().top,d=s.scrollTop(),p=n.position().top,u=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);return t.scrollupbar.isInViewport=i(),t.scrollupbar.isFullyInViewport=o(),u?(s.on("touchstart.scrollupbar",function(){d=s.scrollTop()}),s.on("touchend.scrollupbar",function(){var e=s.scrollTop();d>e||e-n.outerHeight()<c?c>=e?(n.css({position:"absolute",top:p}),n.show(function(){t.scrollupbar.isInViewport=!0,t.scrollupbar.isFullyInViewport=!0,a.enterViewport(),a.fullyEnterViewport()})):(n.css({position:"fixed",top:0}),t.scrollupbar.isInViewport=!0,a.enterViewport(),n.slideDown(function(){t.scrollupbar.isFullyInViewport=!0,a.fullyEnterViewport()})):e>d&&(t.scrollupbar.isFullyInViewport=!1,a.partiallyExitViewport(),n.slideUp(function(){t.scrollupbar.isInViewport=!1,a.exitViewport()})),d=e})):s.on("scroll.scrollupbar",function(){var e=s.scrollTop(),u=n.outerHeight();0>e||e>l.height()-s.height()||(r&&clearTimeout(r),d>e?(!t.scrollupbar.isInViewport&&d-u>=c&&(n.css("top",d-u),t.scrollupbar.isInViewport=!0,a.enterViewport()),o()&&(e>=c?n.css({position:"fixed",top:0}):n.css({position:"absolute",top:p}),t.scrollupbar.isFullyInViewport||(t.scrollupbar.isFullyInViewport=!0,a.fullyEnterViewport())),r=setTimeout(function(){o()||(n.css({position:"fixed",top:n.offset().top-e}),n.animate({top:0},100,function(){t.scrollupbar.isFullyInViewport=!0,a.fullyEnterViewport()}))},400)):e>d&&(t.scrollupbar.isFullyInViewport&&(n.css({position:"absolute",top:d>c?d:p}),o()||(t.scrollupbar.isFullyInViewport=!1,a.partiallyExitViewport())),t.scrollupbar.isInViewport&&!i()&&(t.scrollupbar.isInViewport=!1,a.exitViewport()),r=setTimeout(function(){i()&&e-u>=c&&n.animate({top:e-u},100,function(){t.scrollupbar.isInViewport=!1,a.exitViewport()})},400)),d=e)}),e=function(){s.off(".scrollupbar"),n.css({position:"absolute",top:p})},n},t.scrollupbar.destroy=function(){return e?e():void 0},t.fn.scrollupbar=function(e){return t.scrollupbar(this,e)}}(jQuery),jQuery(function(t){function e(){t(".card__excerpt").text(function(t,e){return e.substr(0,140)+"…"})}function n(){function e(e,n){t.ajax({url:e,complete:function(t){n.call(null,t.responseJSON)}})}var n=t("a[data-github]").attr("href"),a=n.substr(19),o="https://api.github.com/users/"+a;t("[data-github] .tooltip").is(":empty")&&e(o,function(e){if("Nie znaleziono"===e.message||""===a)t("[data-github] .tooltip").html("<h2>Brak informacji</h2>");else{a=e.login;var n=e.html_url,o=e.public_repos,i=e.avatar_url,r='<div class="gh"><h4 class="gh__name"><a class="link" href="'+n+'"><img class="gh__avatar" src="'+i+'">@'+a+"</a></h4>";r=r+'<span class="gh__repos">Repozytoriów: '+o+"</span><hr/></div>",t("[data-github] .tooltip").append(r)}})}function a(){var e=t("a[data-lastfm]").attr("href"),n=e.substr(27),a="http://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks",o="299020c062c481f083ecd0276c315e3a",i=a+"&user="+n+"&api_key="+o+"&format=json";console.log(n),t("[data-lastfm] .tooltip").is(":empty")&&t.getJSON(i,function(e){var n=e.recenttracks.track[0].artist["#text"],a=e.recenttracks.track[0].name,o=e.recenttracks.track[0].image[3]["#text"];""===o&&(o="http://img2-ak.lst.fm/i/u/174s/4128a6eb29f94943c9d206c08e625904.png");var i='<div class="lf"><img class="lf__cover" src="'+o+'"/><div class="lf__trackInfo"><span class="lf__artist">'+n+'</span><span class="lf__song">'+a+"</span></div></div>";t("[data-lastfm] .tooltip").append(i)})}var o={$dropys:null,openClass:"open",selectClass:"selected",init:function(){var e=this;e.$dropys=t(".dropy"),e.eventHandler()},eventHandler:function(){var e=this;e.$dropys.find(".dropy__title").click(function(){e.$dropys.removeClass(e.openClass),t(this).parents(".dropy").addClass(e.openClass)}),e.$dropys.find(".dropy__content ul li a").click(function(){var n=t(this),a=n.parents(".dropy"),o=a.find("input"),i=t(this).parents(".dropy").find(".dropy__title span");a.find(".dropy__content a").each(function(){t(this).removeClass(e.selectClass)}),i.html(n.html()),o.val(n.attr("data-value")).trigger("change"),n.hasClass("dropy__header")?(i.removeClass(e.selectClass),i.html(i.attr("data-title"))):(i.addClass(e.selectClass),n.addClass(e.selectClass)),a.removeClass(e.openClass)}),t(document).bind("click",function(n){t(n.target).parents().hasClass("dropy")||e.$dropys.removeClass(e.openClass)})}};t(function(){o.init()}),e(),t(".project__content p").each(function(e){var n=t(this).find("img"),a=n.width();980>a&&n.wrap("<figure></figure>")}),t(".note-close").click(function(){t(this).parent().animate({opacity:0},250,function(){t(this).animate({marginBottom:0},250).children().animate({padding:0},250).wrapInner("<div />").children().slideUp(250,function(){t(this).closest(".note").remove()})})}),t("label.button").on("click",function(){t(".fb").addClass("animated fadeInUp"),t(".date .icon-container").addClass("animated slideInLeft"),t(".date span").addClass("animated slideInLeft"),t(".location .icon-container").addClass("animated slideInRight"),t(".location span").addClass("animated slideInRight")}),t("#close_banner").on("click",function(){t(".fb").removeClass("animated fadeInUp"),t(".date .icon-container").removeClass("animated slideInLeft"),t(".date span").removeClass("animated slideInLeft"),t(".location .icon-container").removeClass("animated slideInRight"),t(".location span").removeClass("animated slideInRight")}),t(document).ready(function(){t("#nav-trigger .navicon-button").click(function(){console.info("Burger clicked"),t("#nav ul").hasClass("nav__menu--expanded")?(t("#nav ul").removeClass("nav__menu--expanded").slideUp(250),t(this).removeClass("open")):(t("#nav ul").addClass("nav__menu--expanded").slideDown(250),t(this).addClass("open"))})}),function(){t(".tooltip").on("click",function(t){t.preventDefault()}),t("[data-github]").hover(function(e){n(),t(this).children(".tooltip").addClass("tooltip--active")},function(e){t(this).children(".tooltip").removeClass("tooltip--active")}),t("[data-lastfm]").hover(function(e){a(),t(this).children(".tooltip").addClass("tooltip--active")},function(e){t(this).children(".tooltip").removeClass("tooltip--active")})}(),t(function(){t('a[href*="#"]:not(.link--tab)').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=t(this.hash);if(e=e.length?e:t("[name="+this.hash.slice(1)+"]"),e.length)return t("html, body").animate({scrollTop:e.offset().top},800),!1}})}),t(document).ready(function(){function n(){i++,console.info("bLazy: Images loaded: %d",i)}function a(){t(".topbarWrapper").scrollupbar({enterViewport:function(){t(".topbarWrapper").addClass("topbarWrapper--visible")},fullyEnterViewport:function(){t("#last-event").text("fullyEnterViewport")},exitViewport:function(){t("#last-event").text("exitViewport")},partiallyExitViewport:function(){t("#last-event").text("partiallyExitViewport")}})}var o=new Blazy({offset:20,selector:".blazy",loadInvisible:!1,breakpoints:[{width:360,src:"data-src-small"}],success:function(e){t(e).parent().removeClass("loading",500),n()},error:function(e,n){"missing"===n?(t(e).parent().removeClass("loading",500),console.error("bLazy: data-src is missing")):"invalid"===n&&(t(e).parent().removeClass("loading",500),console.error("bLazy: data-src is invalid"))}}),i=0;t(".membercard__name a").each(function(e){var n=t(this);if(n.html().length>17){var a=n.text(),o=a.charAt(0)+". "+a.substr(a.indexOf(" ")+1);n.text(o),n.html().length>17&&n.parent().addClass("membercard__name--tooLong")}}),t(".membercardSmall__name a").each(function(e){var n=t(this).html().length;if(n>14){var a=t(this).text(),o=a.charAt(0)+". "+a.substr(a.indexOf(" ")+1);t(this).text(o)}}),function(){function n(){console.log("Clicked load_more"),t(this).html('<div class="spinner"></div>'),r=parseInt(r)+6,t.ajax({url:i,type:"POST",data:{action:"load_posts",post_offset:r},success:function(n){t("#load_more_posts").html("Zobacz starsze"),t("#posts .cardsWrapper").append(n),console.info("Ajax: OK"),o.revalidate(),e()}})}function a(){var n=t(this).parent();l.setTotal(n.attr("data-total")),l.getLoaded()||(l.setLoaded(n.find(".card").length),console.log("Already:",l.getLoaded()));var a=n.attr("data-projects-status");return r=parseInt(r)+s,l.getTotal()>l.getLoaded()?(c.showSpinner(t("#load_more")),void t.ajax({url:i,type:"POST",data:{action:"load_projects",post_offset:r,projects_status:a},success:function(i){n.children(".cardsWrapper").append(i),o.revalidate(),e(),c.showCaption(t("#load_more")),l.incLoaded(),console.info("Ajax: Loaded more %s projects: %d/%d",a,l.getLoaded(),l.getTotal()),l.getTotal()<=l.getLoaded()&&c.hide(t("#load_more"))}})):!1}var i=t(".global").attr("data-ajax-url"),r=0,s=6,l=function(t){var e,n;return{incLoaded:function(){e+=s},getLoaded:function(){return e},setLoaded:function(t){e=t},setTotal:function(t){n=t},getTotal:function(){return n}}}(),c=function(t){return{showSpinner:function(t){t.html('<div class="spinner"></div>')},showCaption:function(t){t.html("Zobacz starsze")},hide:function(t){t.hide()}}}();t("#load_more_posts").on("click",n),t("#load_more").on("click",a)}(),a(),t(window).width()<750&&t.scrollupbar.destroy(".topbarWrapper"),t(window).scroll(function(e){var n=t(this).scrollTop();0===n&&t(".topbarWrapper").removeClass("topbarWrapper--visible")});var r=function(){var e;return{init:function(){e=t(".tabsMenu__item--current .link--tab").attr("href"),t(e).addClass("tab__content--visible"),o.load(t(".blazy",e),!0),console.info("Tabs initiated:",e)},reset:function(){e=t("#tabsReset .link--tab").attr("href"),t(e).removeClass("tab__content--hidden").addClass("tab__content--visible"),console.info("Tabs initiated:",e)}}}();r.init(),t(".global").on("click",".link--tab",function(e){e.preventDefault(),t(this).parent().addClass("tabsMenu__item--current"),t(this).parent().siblings().removeClass("tabsMenu__item--current");var n=t(this).attr("href");t(".tab__content").not(n).addClass("tab__content--hidden").removeClass("tab__content--visible"),t(n).removeClass("tab__content--hidden").addClass("tab__content--visible"),o.load(t(".blazy",n),!0)}),t.fn.jQuerySimpleCounter=function(e){var n=t.extend({start:0,end:100,easing:"swing",duration:400,complete:""},e),a=t(this);t({count:n.start}).animate({count:n.end},{duration:n.duration,easing:n.easing,step:function(){var t=Math.ceil(this.count);a.children(".counters__count").text(t)},complete:n.complete})},function(){var e=function(t,e,n){var a=t%10,o=t%100,i=[];return n!==!0&&i.push(t),1===t&&e[1]?i.push(e[1]):(0===t||a>=0&&1>=a||a>=5&&9>=a||o>10&&20>o)&&e[0]?i.push(e[0]):(10>o||o>20)&&a>=2&&4>=a&&e[2]&&i.push(e[2]),i[1]};t(".counter").each(function(n){var a=t(this).attr("id"),o=parseInt(t(this).children("a").html());console.log(o,a),"finished"===a?t(this).find(".counter__label").html(e(o,["Projektów ukończonych","Projekt ukończony","Projekty ukończone"])):t(this).find(".counter__label").html(e(o,["Projektów realizowanych","Projekt realizowany","Projekty realizowane"]))}),t(".counters__counter").each(function(n){var a=t(this).attr("id"),o=parseInt(t(this).children(".counters__count").data(a));console.log(o,a),"finished"===a?t(this).find(".counters__label").html(e(o,["Projektów ukończonych","Projekt ukończony","Projekty ukończone"])):"in-progress"===a&&t(this).find(".counters__label").html(e(o,["Projektów realizowanych","Projekt realizowany","Projekty realizowane"])),t("#"+a).jQuerySimpleCounter({end:o,duration:2500})})}(),function(){t(window).scroll(function(){t(window).scrollTop()>=t(document).height()-t(window).height()-500?t(".footer-wrapper").addClass("footer-wrapper--animate"):t(".footer-wrapper").removeClass("footer-wrapper--animate")})}(),function(){t(".banner__middleTitle").one("animationend webkitAnimationEnd oAnimationEnd oanimationend MSAnimationEnd",function(){t(this).removeClass("banner__middleTitle--animation")}),t(".banner__leftTitle").one("animationend webkitAnimationEnd oAnimationEnd oanimationend MSAnimationEnd",function(){t(this).removeClass("banner__leftTitle--animation")}),t(".banner__rightTitle").one("animationend webkitAnimationEnd oAnimationEnd oanimationend MSAnimationEnd",function(){t(this).removeClass("banner__rightTitle--animation")}),t(".banner__left").hover(function(){t(".banner__middle").addClass("banner__middle--collapsedL"),t(".banner__middleTitle").addClass("banner__middleTitle--opacity80"),t(this).addClass("banner__left--mvR")},function(){t(".banner__middle").removeClass("banner__middle--collapsedL"),t(".banner__middleTitle").removeClass("banner__middleTitle--opacity80"),t(this).removeClass("banner__left--mvR")}),t(".banner__right").hover(function(){t(".banner__middle").addClass("banner__middle--collapsedR"),t(".banner__middleTitle").addClass("banner__middleTitle--opacity80"),t(this).addClass("banner__right--mvL")},function(){t(".banner__middle").removeClass("banner__middle--collapsedR"),t(".banner__middleTitle").removeClass("banner__middleTitle--opacity80"),t(this).removeClass("banner__right--mvL")})}(),function(){t(".brand").each(function(e){t(this).data("brand-desc").length<1&&t(this).find(".brand__more").remove()}),t(".brand__more").bind("click",function(e){e.preventDefault();var n=t(this).parents(".brand"),a=n.data("brand-name"),o=n.data("brand-link"),i=n.data("brand-desc"),r=n.find(".brand__logo").attr("src");console.log(n,a,o,i,r),t(".modal__title").html(a),t(".modal__content a").html(o).attr("href",o),t(".modal__content p").html(i),t(".modal__content p").html(i),t(".modal__image").attr("src",r),t("html").addClass("doNotScroll"),t(".modal").addClass("visible")}),t("[data-modal-close]").bind("click",function(e){t(".modal").removeClass("visible"),t("html").removeClass("doNotScroll")})}(),function(){Slider=t("#slider").Swipe({auto:0,continuous:!0}).data("Swipe"),Slider&&(t(".swipe__next").on("click",Slider.next),t(".swipe__prev").on("click",Slider.prev))}()}),t(".membercard#president").insertBefore("#current_members .cardsWrapper div:eq(0)"),t(".project__content a").addClass("link")});