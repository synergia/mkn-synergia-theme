!function(t){"use strict";var e;t.scrollupbar=function(o,n){function a(){return s.scrollTop()<=o.offset().top}function i(){return s.scrollTop()<o.offset().top+o.outerHeight()}n=t.extend({enterViewport:t.noop,fullyEnterViewport:t.noop,exitViewport:t.noop,partiallyExitViewport:t.noop},n);var r,s=t(window),l=t(document),c="fixed"==o.css("position")?0:o.offset().top,d=s.scrollTop(),p=o.position().top,u=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);return t.scrollupbar.isInViewport=i(),t.scrollupbar.isFullyInViewport=a(),u?(s.on("touchstart.scrollupbar",function(){d=s.scrollTop()}),s.on("touchend.scrollupbar",function(){var e=s.scrollTop();e<d||e-o.outerHeight()<c?e<=c?(o.css({position:"absolute",top:p}),o.show(function(){t.scrollupbar.isInViewport=!0,t.scrollupbar.isFullyInViewport=!0,n.enterViewport(),n.fullyEnterViewport()})):(o.css({position:"fixed",top:0}),t.scrollupbar.isInViewport=!0,n.enterViewport(),o.slideDown(function(){t.scrollupbar.isFullyInViewport=!0,n.fullyEnterViewport()})):e>d&&(t.scrollupbar.isFullyInViewport=!1,n.partiallyExitViewport(),o.slideUp(function(){t.scrollupbar.isInViewport=!1,n.exitViewport()})),d=e})):s.on("scroll.scrollupbar",function(){var e=s.scrollTop(),u=o.outerHeight();e<0||e>l.height()-s.height()||(r&&clearTimeout(r),e<d?(!t.scrollupbar.isInViewport&&d-u>=c&&(o.css("top",d-u),t.scrollupbar.isInViewport=!0,n.enterViewport()),a()&&(e>=c?o.css({position:"fixed",top:0}):o.css({position:"absolute",top:p}),t.scrollupbar.isFullyInViewport||(t.scrollupbar.isFullyInViewport=!0,n.fullyEnterViewport())),r=setTimeout(function(){a()||(o.css({position:"fixed",top:o.offset().top-e}),o.animate({top:0},100,function(){t.scrollupbar.isFullyInViewport=!0,n.fullyEnterViewport()}))},400)):e>d&&(t.scrollupbar.isFullyInViewport&&(o.css({position:"absolute",top:d>c?d:p}),a()||(t.scrollupbar.isFullyInViewport=!1,n.partiallyExitViewport())),t.scrollupbar.isInViewport&&!i()&&(t.scrollupbar.isInViewport=!1,n.exitViewport()),r=setTimeout(function(){i()&&e-u>=c&&o.animate({top:e-u},100,function(){t.scrollupbar.isInViewport=!1,n.exitViewport()})},400)),d=e)}),e=function(){s.off(".scrollupbar"),o.css({position:"absolute",top:p})},o},t.scrollupbar.destroy=function(){if(e)return e()},t.fn.scrollupbar=function(e){return t.scrollupbar(this,e)}}(jQuery),jQuery(function(t){function e(){t(".card__excerpt").text(function(t,e){return e.substr(0,125)+"…"})}function o(){function e(e,o){t.ajax({url:e,complete:function(t){o.call(null,t.responseJSON)}})}var o=t("a[data-github]").attr("href"),n=o.substr(19),a="https://api.github.com/users/"+n;t("[data-github] .tooltip").is(":empty")&&e(a,function(e){if("Nie znaleziono"===e.message||""===n)t("[data-github] .tooltip").html("<h2>Brak informacji</h2>");else{n=e.login;var o=e.html_url,a=e.public_repos,i=e.avatar_url,r='<div class="gh"><h4 class="gh__name"><a class="link" href="'+o+'"><img class="gh__avatar" src="'+i+'">@'+n+"</a></h4>";r=r+'<span class="gh__repos">Repozytoriów: '+a+"</span><hr/></div>",t("[data-github] .tooltip").append(r)}})}function n(){var e=t("a[data-lastfm]").attr("href"),o=e.substr(27),n="http://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks",a="299020c062c481f083ecd0276c315e3a",i=n+"&user="+o+"&api_key="+a+"&format=json";void 0,t("[data-lastfm] .tooltip").is(":empty")&&t.getJSON(i,function(e){var o=e.recenttracks.track[0].artist["#text"],n=e.recenttracks.track[0].name,a=e.recenttracks.track[0].image[3]["#text"];""===a&&(a="http://img2-ak.lst.fm/i/u/174s/4128a6eb29f94943c9d206c08e625904.png");var i='<div class="lf"><img class="lf__cover" src="'+a+'"/><div class="lf__trackInfo"><span class="lf__artist">'+o+'</span><span class="lf__song">'+n+"</span></div></div>";t("[data-lastfm] .tooltip").append(i)})}var a={$dropys:null,openClass:"open",selectClass:"selected",init:function(){var e=this;e.$dropys=t(".dropy"),e.eventHandler()},eventHandler:function(){var e=this;e.$dropys.find(".dropy__title").click(function(){e.$dropys.removeClass(e.openClass),t(this).parents(".dropy").addClass(e.openClass)}),e.$dropys.find(".dropy__content ul li a").click(function(){var o=t(this),n=o.parents(".dropy"),a=n.find("input"),i=t(this).parents(".dropy").find(".dropy__title span");n.find(".dropy__content a").each(function(){t(this).removeClass(e.selectClass)}),i.html(o.html()),a.val(o.attr("data-value")).trigger("change"),o.hasClass("dropy__header")?(i.removeClass(e.selectClass),i.html(i.attr("data-title"))):(i.addClass(e.selectClass),o.addClass(e.selectClass)),n.removeClass(e.openClass)}),t(document).bind("click",function(o){t(o.target).parents().hasClass("dropy")||e.$dropys.removeClass(e.openClass)})}};t(function(){a.init()}),e(),t(".project__content p").each(function(e){var o=t(this).find("img"),n=o.width();n<980&&o.wrap("<figure></figure>")}),t(".note-close").click(function(){t(this).parent().animate({opacity:0},250,function(){t(this).animate({marginBottom:0},250).children().animate({padding:0},250).wrapInner("<div />").children().slideUp(250,function(){t(this).closest(".note").remove()})})}),function(){var t=document.getElementById("recruitment");t.style.backgroundImage="url('"+t.dataset.bg+"')"}(),t(document).ready(function(){t("#nav-trigger .navicon-button").click(function(){void 0,t("#nav ul").hasClass("nav__menu--expanded")?(t("#nav ul").removeClass("nav__menu--expanded").slideUp(250),t(this).removeClass("open")):(t("#nav ul").addClass("nav__menu--expanded").slideDown(250),t(this).addClass("open"))})}),function(){t(".tooltip").on("click",function(t){t.preventDefault()}),t("[data-github]").hover(function(e){o(),t(this).children(".tooltip").addClass("tooltip--active")},function(e){t(this).children(".tooltip").removeClass("tooltip--active")}),t("[data-lastfm]").hover(function(e){n(),t(this).children(".tooltip").addClass("tooltip--active")},function(e){t(this).children(".tooltip").removeClass("tooltip--active")})}(),t(function(){t('a[href*="#"]:not(.link--tab)').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=t(this.hash);if(e=e.length?e:t("[name="+this.hash.slice(1)+"]"),e.length)return t("html, body").animate({scrollTop:e.offset().top},800),!1}})}),t(document).ready(function(){function o(){i++,void 0}function n(){t(".topbarWrapper").scrollupbar({enterViewport:function(){t(".topbarWrapper").addClass("topbarWrapper--visible")},fullyEnterViewport:function(){t("#last-event").text("fullyEnterViewport")},exitViewport:function(){t("#last-event").text("exitViewport")},partiallyExitViewport:function(){t("#last-event").text("partiallyExitViewport")}})}var a=new Blazy({offset:20,selector:".blazy",loadInvisible:!1,breakpoints:[{width:360,src:"data-src-small"}],success:function(e){t(e).parent().removeClass("loading",500),o()},error:function(e,o){"missing"===o?(t(e).parent().removeClass("loading",500),void 0):"invalid"===o&&(t(e).parent().removeClass("loading",500),void 0)}}),i=0;t(".membercard__name a").each(function(e){var o=t(this);if(o.html().length>17){var n=o.text(),a=n.charAt(0)+". "+n.substr(n.indexOf(" ")+1);o.text(a),o.html().length>17&&o.parent().addClass("membercard__name--tooLong")}}),t(".membercardSmall__name a").each(function(e){var o=t(this).html().length;if(o>14){var n=t(this).text(),a=n.charAt(0)+". "+n.substr(n.indexOf(" ")+1);t(this).text(a)}}),function(){var t=document.getElementById("recruitment");t.style.backgroundImage="url('"+t.dataset.bg+"')"}(),function(){function o(){void 0,t(this).html('<div class="spinner"></div>'),r=parseInt(r)+6,t.ajax({url:i,type:"POST",data:{action:"load_posts",post_offset:r},success:function(o){t("#load_more_posts").html("Zobacz starsze"),t("#posts .cardsWrapper").append(o),void 0,a.revalidate(),e()}})}function n(){var o=t(this).parent();l.setTotal(o.attr("data-total")),l.getLoaded()||(l.setLoaded(o.find(".card").length),void 0);var n=o.attr("data-projects-status");return r=parseInt(r)+s,l.getTotal()>l.getLoaded()&&(c.showSpinner(t("#load_more")),void t.ajax({url:i,type:"POST",data:{action:"load_projects",post_offset:r,projects_status:n},success:function(i){o.children(".cardsWrapper").append(i),a.revalidate(),e(),c.showCaption(t("#load_more")),l.incLoaded(),void 0,l.getTotal()<=l.getLoaded()&&c.hide(t("#load_more"))}}))}var i=t(".global").attr("data-ajax-url"),r=0,s=6,l=function(t){var e,o;return{incLoaded:function(){e+=s},getLoaded:function(){return e},setLoaded:function(t){e=t},setTotal:function(t){o=t},getTotal:function(){return o}}}(),c=function(t){return{showSpinner:function(t){t.html('<div class="spinner"></div>')},showCaption:function(t){t.html("Zobacz starsze")},hide:function(t){t.hide()}}}();t("#load_more_posts").on("click",o),t("#load_more").on("click",n)}(),n(),t(window).width()<750&&t.scrollupbar.destroy(".topbarWrapper"),t(window).scroll(function(e){var o=t(this).scrollTop();0===o&&t(".topbarWrapper").removeClass("topbarWrapper--visible")});var r=function(){var e;return{init:function(){e=t(".tabsMenu__item--current .link--tab").attr("href"),t(e).addClass("tab__content--visible"),a.load(t(".blazy",e),!0),void 0},reset:function(){e=t("#tabsReset .link--tab").attr("href"),t(e).removeClass("tab__content--hidden").addClass("tab__content--visible"),void 0}}}();r.init(),t(".global").on("click",".link--tab",function(e){e.preventDefault(),t(this).parent().addClass("tabsMenu__item--current"),t(this).parent().siblings().removeClass("tabsMenu__item--current");var o=t(this).attr("href");t(".tab__content").not(o).addClass("tab__content--hidden").removeClass("tab__content--visible"),t(o).removeClass("tab__content--hidden").addClass("tab__content--visible"),a.load(t(".blazy",o),!0)}),t.fn.jQuerySimpleCounter=function(e){var o=t.extend({start:0,end:100,easing:"swing",duration:400,complete:""},e),n=t(this);t({count:o.start}).animate({count:o.end},{duration:o.duration,easing:o.easing,step:function(){var t=Math.ceil(this.count);n.children(".counters__count").text(t)},complete:o.complete})},function(){var e=function(t,e,o){var n=t%10,a=t%100,i=[];return o!==!0&&i.push(t),1===t&&e[1]?i.push(e[1]):(0===t||n>=0&&n<=1||n>=5&&n<=9||a>10&&a<20)&&e[0]?i.push(e[0]):(a<10||a>20)&&n>=2&&n<=4&&e[2]&&i.push(e[2]),i[1]};t(".counter").each(function(o){var n=t(this).attr("id"),a=parseInt(t(this).children("a").html());void 0,"finished"===n?t(this).find(".counter__label").html(e(a,["Projektów ukończonych","Projekt ukończony","Projekty ukończone"])):t(this).find(".counter__label").html(e(a,["Projektów realizowanych","Projekt realizowany","Projekty realizowane"]))}),t(".counters__counter").each(function(o){var n=t(this).attr("id"),a=parseInt(t(this).children(".counters__count").data(n));void 0,"finished"===n?t(this).find(".counters__label").html(e(a,["Projektów ukończonych","Projekt ukończony","Projekty ukończone"])):"in-progress"===n&&t(this).find(".counters__label").html(e(a,["Projektów realizowanych","Projekt realizowany","Projekty realizowane"])),t("#"+n).jQuerySimpleCounter({end:a,duration:2500})})}(),function(){t(window).scroll(function(){t(window).scrollTop()>=t(document).height()-t(window).height()-500?t(".footer-wrapper").addClass("footer-wrapper--animate"):t(".footer-wrapper").removeClass("footer-wrapper--animate")})}(),function(){t(".hero__middleTitle").one("animationend webkitAnimationEnd oAnimationEnd oanimationend MSAnimationEnd",function(){t(this).removeClass("hero__middleTitle--animation")}),t(".hero__leftTitle").one("animationend webkitAnimationEnd oAnimationEnd oanimationend MSAnimationEnd",function(){t(this).removeClass("hero__leftTitle--animation")}),t(".hero__rightTitle").one("animationend webkitAnimationEnd oAnimationEnd oanimationend MSAnimationEnd",function(){t(this).removeClass("hero__rightTitle--animation")}),t(".hero__left").hover(function(){t(".hero__middle").addClass("hero__middle--collapsedL"),t(".hero__middleImg").addClass("hero__middleImg--opacity60"),t(".hero__middleTitle").addClass("hero__middleTitle--opacity0"),t(this).addClass("hero__left--mvR")},function(){t(".hero__middle").removeClass("hero__middle--collapsedL"),t(".hero__middleImg").removeClass("hero__middleImg--opacity60"),t(".hero__middleTitle").removeClass("hero__middleTitle--opacity0"),t(this).removeClass("hero__left--mvR")}),t(".hero__right").hover(function(){t(".hero__middle").addClass("hero__middle--collapsedR"),t(".hero__middleImg").addClass("hero__middleImg--opacity60"),t(".hero__middleTitle").addClass("hero__middleTitle--opacity0"),t(this).addClass("hero__right--mvL")},function(){t(".hero__middle").removeClass("hero__middle--collapsedR"),t(".hero__middleImg").removeClass("hero__middleImg--opacity60"),t(".hero__middleTitle").removeClass("hero__middleTitle--opacity0"),t(this).removeClass("hero__right--mvL")});var e=t(window).height(),o=t(window).width();if(void 0,o<750){var n=document.getElementsByClassName("hero__middleImg")[0];document.getElementsByClassName("hero__middle")[0];void 0,n.height=e}}(),function(){t(".brand").each(function(e){t(this).data("brand-desc").length<1&&t(this).find(".brand__more").remove()}),t(".brand__more").bind("click",function(e){e.preventDefault();var o=t(this).parents(".brand"),n=o.data("brand-name"),a=o.data("brand-link"),i=o.data("brand-desc"),r=o.find(".brand__logo").attr("src");void 0,t(".modal__title").html(n),t(".modal__content a").html(a).attr("href",a),t(".modal__content p").html(i),t(".modal__content p").html(i),t(".modal__image").attr("src",r),t("html").addClass("doNotScroll"),t(".modal").addClass("visible")}),t("[data-modal-close]").bind("click",function(e){t(".modal").removeClass("visible"),t("html").removeClass("doNotScroll")})}(),function(){Slider=t("#slider").Swipe({auto:0,continuous:!0}).data("Swipe"),Slider&&(t(".swipe__next").on("click",Slider.next),t(".swipe__prev").on("click",Slider.prev))}()}),t(".membercard#president").insertBefore("#current_members .cardsWrapper div:eq(0)"),t(".project__content a").addClass("link")});