// http://codepen.io/codyhouse/pen/szKvm
    //set your google maps parameters
    var $latitude = jQuery('#snrg-google-map').data('lat'),
        $longitude = jQuery('#snrg-google-map').data('lon'),
        $map_zoom = 16;

    //google map custom marker icon - .png fallback for IE11
    var is_internetExplorer11 = navigator.userAgent.toLowerCase().indexOf('trident') > -1;
    var $marker_url = (is_internetExplorer11) ? 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/148866/cd-icon-location.png' : 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/148866/cd-icon-location_1.svg';

    //define the basic color of your map, plus a value for saturation and brightness
    var $main_color = '#6c4892',
        $saturation = -20,
        $brightness = 5;

    //we define here the style of the map
    var style = [{
            //set saturation for the labels on the map
            elementType: "labels",
            stylers: [{
                saturation: $saturation
        }]
    }, { //poi stands for point of interest - don't show these lables on the map
            featureType: "poi",
            elementType: "labels",
            stylers: [{
                visibility: "on"
        }]
    }, {
            //don't show highways lables on the map
            featureType: 'road.highway',
            elementType: 'labels',
            stylers: [{
                visibility: "off"
        }]
    }, {
            //don't show local road lables on the map
            featureType: "road.local",
            elementType: "labels.icon",
            stylers: [{
                visibility: "off"
        }]
    }, {
            //don't show arterial road lables on the map
            featureType: "road.arterial",
            elementType: "labels.icon",
            stylers: [{
                visibility: "off"
        }]
    }, {
            //don't show road lables on the map
            featureType: "road",
            elementType: "geometry.stroke",
            stylers: [{
                visibility: "off"
        }]
    },
    //style different elements on the map
        {
            featureType: "transit",
            elementType: "geometry.fill",
            stylers: [{
                hue: $main_color
        }, {
                visibility: "on"
        }, {
                lightness: $brightness
        }, {
                saturation: $saturation
        }]
    }, {
            featureType: "poi",
            elementType: "geometry.fill",
            stylers: [{
                hue: $main_color
        }, {
                visibility: "on"
        }, {
                lightness: $brightness
        }, {
                saturation: $saturation
        }]
    }, {
            featureType: "poi.government",
            elementType: "geometry.fill",
            stylers: [{
                hue: $main_color
        }, {
                visibility: "on"
        }, {
                lightness: $brightness
        }, {
                saturation: $saturation
        }]
    }, {
            featureType: "poi.sport_complex",
            elementType: "geometry.fill",
            stylers: [{
                hue: $main_color
        }, {
                visibility: "on"
        }, {
                lightness: $brightness
        }, {
                saturation: $saturation
        }]
    }, {
            featureType: "poi.attraction",
            elementType: "geometry.fill",
            stylers: [{
                hue: $main_color
        }, {
                visibility: "off"
        }, {
                lightness: $brightness
        }, {
                saturation: $saturation
        }]
    }, {
            featureType: "poi.business",
            elementType: "geometry.fill",
            stylers: [{
                hue: $main_color
        }, {
                visibility: "on"
        }, {
                lightness: $brightness
        }, {
                saturation: $saturation
        }]
    }, {
            featureType: "transit",
            elementType: "geometry.fill",
            stylers: [{
                hue: $main_color
        }, {
                visibility: "on"
        }, {
                lightness: $brightness
        }, {
                saturation: $saturation
        }]
    }, {
            featureType: "transit.station",
            elementType: "geometry.fill",
            stylers: [{
                hue: $main_color
        }, {
                visibility: "on"
        }, {
                lightness: $brightness
        }, {
                saturation: $saturation
        }]
    }, {
            featureType: "landscape",
            stylers: [{
                hue: $main_color
        }, {
                visibility: "on"
        }, {
                lightness: $brightness
        }, {
                saturation: $saturation
        }]

    }, {
            featureType: "road",
            elementType: "geometry.fill",
            stylers: [{
                hue: $main_color
        }, {
                visibility: "on"
        }, {
                lightness: $brightness
        }, {
                saturation: $saturation
        }]
    }, {
            featureType: "road.highway",
            elementType: "geometry.fill",
            stylers: [{
                hue: $main_color
        }, {
                visibility: "on"
        }, {
                lightness: $brightness
        }, {
                saturation: $saturation
        }]
    }, {
            featureType: "water",
            elementType: "geometry",
            stylers: [{
                hue: $main_color
        }, {
                visibility: "on"
        }, {
                lightness: $brightness
        }, {
                saturation: $saturation
        }]
    }
];

    //set google map options
    var map_options = {
        center: new google.maps.LatLng($latitude, $longitude),
        zoom: $map_zoom,
        panControl: false,
        zoomControl: false,
        mapTypeControl: false,
        streetViewControl: false,
        mapTypeId: google.maps.MapTypeId.ROADMAP,
        scrollwheel: false,
        styles: style,
    };
    //inizialize the map
    var map = new google.maps.Map(document.getElementById('snrg-map'), map_options);
    //add a custom marker to the map
    var marker = new google.maps.Marker({
        position: new google.maps.LatLng($latitude, $longitude),
        map: map,
        visible: true,
        icon: $marker_url,
    });

    //add custom buttons for the zoom-in/zoom-out on the map
    function CustomZoomControl(controlDiv, map) {
        //grap the zoom elements from the DOM and insert them in the map
        var controlUIzoomIn = document.getElementById('snrg-zoom-in'),
            controlUIzoomOut = document.getElementById('snrg-zoom-out');
        controlDiv.appendChild(controlUIzoomIn);
        controlDiv.appendChild(controlUIzoomOut);

        // Setup the click event listeners and zoom-in or out according to the clicked element
        google.maps.event.addDomListener(controlUIzoomIn, 'click', function() {
            map.setZoom(map.getZoom() + 1);
        });
        google.maps.event.addDomListener(controlUIzoomOut, 'click', function() {
            map.setZoom(map.getZoom() - 1);
        });
    }

    var zoomControlDiv = document.createElement('div');
    var zoomControl = new CustomZoomControl(zoomControlDiv, map);

    //insert the zoom div on the top left of the map
    map.controls[google.maps.ControlPosition.LEFT_TOP].push(zoomControlDiv);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtYXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaHR0cDovL2NvZGVwZW4uaW8vY29keWhvdXNlL3Blbi9zekt2bVxuICAgIC8vc2V0IHlvdXIgZ29vZ2xlIG1hcHMgcGFyYW1ldGVyc1xuICAgIHZhciAkbGF0aXR1ZGUgPSBqUXVlcnkoJyNzbnJnLWdvb2dsZS1tYXAnKS5kYXRhKCdsYXQnKSxcbiAgICAgICAgJGxvbmdpdHVkZSA9IGpRdWVyeSgnI3NucmctZ29vZ2xlLW1hcCcpLmRhdGEoJ2xvbicpLFxuICAgICAgICAkbWFwX3pvb20gPSAxNjtcblxuICAgIC8vZ29vZ2xlIG1hcCBjdXN0b20gbWFya2VyIGljb24gLSAucG5nIGZhbGxiYWNrIGZvciBJRTExXG4gICAgdmFyIGlzX2ludGVybmV0RXhwbG9yZXIxMSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCd0cmlkZW50JykgPiAtMTtcbiAgICB2YXIgJG1hcmtlcl91cmwgPSAoaXNfaW50ZXJuZXRFeHBsb3JlcjExKSA/ICdodHRwczovL3MzLXVzLXdlc3QtMi5hbWF6b25hd3MuY29tL3MuY2Rwbi5pby8xNDg4NjYvY2QtaWNvbi1sb2NhdGlvbi5wbmcnIDogJ2h0dHBzOi8vczMtdXMtd2VzdC0yLmFtYXpvbmF3cy5jb20vcy5jZHBuLmlvLzE0ODg2Ni9jZC1pY29uLWxvY2F0aW9uXzEuc3ZnJztcblxuICAgIC8vZGVmaW5lIHRoZSBiYXNpYyBjb2xvciBvZiB5b3VyIG1hcCwgcGx1cyBhIHZhbHVlIGZvciBzYXR1cmF0aW9uIGFuZCBicmlnaHRuZXNzXG4gICAgdmFyICRtYWluX2NvbG9yID0gJyM2YzQ4OTInLFxuICAgICAgICAkc2F0dXJhdGlvbiA9IC0yMCxcbiAgICAgICAgJGJyaWdodG5lc3MgPSA1O1xuXG4gICAgLy93ZSBkZWZpbmUgaGVyZSB0aGUgc3R5bGUgb2YgdGhlIG1hcFxuICAgIHZhciBzdHlsZSA9IFt7XG4gICAgICAgICAgICAvL3NldCBzYXR1cmF0aW9uIGZvciB0aGUgbGFiZWxzIG9uIHRoZSBtYXBcbiAgICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVsc1wiLFxuICAgICAgICAgICAgc3R5bGVyczogW3tcbiAgICAgICAgICAgICAgICBzYXR1cmF0aW9uOiAkc2F0dXJhdGlvblxuICAgICAgICB9XVxuICAgIH0sIHsgLy9wb2kgc3RhbmRzIGZvciBwb2ludCBvZiBpbnRlcmVzdCAtIGRvbid0IHNob3cgdGhlc2UgbGFibGVzIG9uIHRoZSBtYXBcbiAgICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInBvaVwiLFxuICAgICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzXCIsXG4gICAgICAgICAgICBzdHlsZXJzOiBbe1xuICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IFwib25cIlxuICAgICAgICB9XVxuICAgIH0sIHtcbiAgICAgICAgICAgIC8vZG9uJ3Qgc2hvdyBoaWdod2F5cyBsYWJsZXMgb24gdGhlIG1hcFxuICAgICAgICAgICAgZmVhdHVyZVR5cGU6ICdyb2FkLmhpZ2h3YXknLFxuICAgICAgICAgICAgZWxlbWVudFR5cGU6ICdsYWJlbHMnLFxuICAgICAgICAgICAgc3R5bGVyczogW3tcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBcIm9mZlwiXG4gICAgICAgIH1dXG4gICAgfSwge1xuICAgICAgICAgICAgLy9kb24ndCBzaG93IGxvY2FsIHJvYWQgbGFibGVzIG9uIHRoZSBtYXBcbiAgICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInJvYWQubG9jYWxcIixcbiAgICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy5pY29uXCIsXG4gICAgICAgICAgICBzdHlsZXJzOiBbe1xuICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IFwib2ZmXCJcbiAgICAgICAgfV1cbiAgICB9LCB7XG4gICAgICAgICAgICAvL2Rvbid0IHNob3cgYXJ0ZXJpYWwgcm9hZCBsYWJsZXMgb24gdGhlIG1hcFxuICAgICAgICAgICAgZmVhdHVyZVR5cGU6IFwicm9hZC5hcnRlcmlhbFwiLFxuICAgICAgICAgICAgZWxlbWVudFR5cGU6IFwibGFiZWxzLmljb25cIixcbiAgICAgICAgICAgIHN0eWxlcnM6IFt7XG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogXCJvZmZcIlxuICAgICAgICB9XVxuICAgIH0sIHtcbiAgICAgICAgICAgIC8vZG9uJ3Qgc2hvdyByb2FkIGxhYmxlcyBvbiB0aGUgbWFwXG4gICAgICAgICAgICBmZWF0dXJlVHlwZTogXCJyb2FkXCIsXG4gICAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeS5zdHJva2VcIixcbiAgICAgICAgICAgIHN0eWxlcnM6IFt7XG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogXCJvZmZcIlxuICAgICAgICB9XVxuICAgIH0sXG4gICAgLy9zdHlsZSBkaWZmZXJlbnQgZWxlbWVudHMgb24gdGhlIG1hcFxuICAgICAgICB7XG4gICAgICAgICAgICBmZWF0dXJlVHlwZTogXCJ0cmFuc2l0XCIsXG4gICAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeS5maWxsXCIsXG4gICAgICAgICAgICBzdHlsZXJzOiBbe1xuICAgICAgICAgICAgICAgIGh1ZTogJG1haW5fY29sb3JcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IFwib25cIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbGlnaHRuZXNzOiAkYnJpZ2h0bmVzc1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgc2F0dXJhdGlvbjogJHNhdHVyYXRpb25cbiAgICAgICAgfV1cbiAgICB9LCB7XG4gICAgICAgICAgICBmZWF0dXJlVHlwZTogXCJwb2lcIixcbiAgICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5LmZpbGxcIixcbiAgICAgICAgICAgIHN0eWxlcnM6IFt7XG4gICAgICAgICAgICAgICAgaHVlOiAkbWFpbl9jb2xvclxuICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogXCJvblwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBsaWdodG5lc3M6ICRicmlnaHRuZXNzXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBzYXR1cmF0aW9uOiAkc2F0dXJhdGlvblxuICAgICAgICB9XVxuICAgIH0sIHtcbiAgICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInBvaS5nb3Zlcm5tZW50XCIsXG4gICAgICAgICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeS5maWxsXCIsXG4gICAgICAgICAgICBzdHlsZXJzOiBbe1xuICAgICAgICAgICAgICAgIGh1ZTogJG1haW5fY29sb3JcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IFwib25cIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbGlnaHRuZXNzOiAkYnJpZ2h0bmVzc1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgc2F0dXJhdGlvbjogJHNhdHVyYXRpb25cbiAgICAgICAgfV1cbiAgICB9LCB7XG4gICAgICAgICAgICBmZWF0dXJlVHlwZTogXCJwb2kuc3BvcnRfY29tcGxleFwiLFxuICAgICAgICAgICAgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnkuZmlsbFwiLFxuICAgICAgICAgICAgc3R5bGVyczogW3tcbiAgICAgICAgICAgICAgICBodWU6ICRtYWluX2NvbG9yXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBcIm9uXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGxpZ2h0bmVzczogJGJyaWdodG5lc3NcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHNhdHVyYXRpb246ICRzYXR1cmF0aW9uXG4gICAgICAgIH1dXG4gICAgfSwge1xuICAgICAgICAgICAgZmVhdHVyZVR5cGU6IFwicG9pLmF0dHJhY3Rpb25cIixcbiAgICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5LmZpbGxcIixcbiAgICAgICAgICAgIHN0eWxlcnM6IFt7XG4gICAgICAgICAgICAgICAgaHVlOiAkbWFpbl9jb2xvclxuICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogXCJvZmZcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbGlnaHRuZXNzOiAkYnJpZ2h0bmVzc1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgc2F0dXJhdGlvbjogJHNhdHVyYXRpb25cbiAgICAgICAgfV1cbiAgICB9LCB7XG4gICAgICAgICAgICBmZWF0dXJlVHlwZTogXCJwb2kuYnVzaW5lc3NcIixcbiAgICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5LmZpbGxcIixcbiAgICAgICAgICAgIHN0eWxlcnM6IFt7XG4gICAgICAgICAgICAgICAgaHVlOiAkbWFpbl9jb2xvclxuICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogXCJvblwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBsaWdodG5lc3M6ICRicmlnaHRuZXNzXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBzYXR1cmF0aW9uOiAkc2F0dXJhdGlvblxuICAgICAgICB9XVxuICAgIH0sIHtcbiAgICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInRyYW5zaXRcIixcbiAgICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5LmZpbGxcIixcbiAgICAgICAgICAgIHN0eWxlcnM6IFt7XG4gICAgICAgICAgICAgICAgaHVlOiAkbWFpbl9jb2xvclxuICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogXCJvblwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBsaWdodG5lc3M6ICRicmlnaHRuZXNzXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBzYXR1cmF0aW9uOiAkc2F0dXJhdGlvblxuICAgICAgICB9XVxuICAgIH0sIHtcbiAgICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInRyYW5zaXQuc3RhdGlvblwiLFxuICAgICAgICAgICAgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnkuZmlsbFwiLFxuICAgICAgICAgICAgc3R5bGVyczogW3tcbiAgICAgICAgICAgICAgICBodWU6ICRtYWluX2NvbG9yXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBcIm9uXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGxpZ2h0bmVzczogJGJyaWdodG5lc3NcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHNhdHVyYXRpb246ICRzYXR1cmF0aW9uXG4gICAgICAgIH1dXG4gICAgfSwge1xuICAgICAgICAgICAgZmVhdHVyZVR5cGU6IFwibGFuZHNjYXBlXCIsXG4gICAgICAgICAgICBzdHlsZXJzOiBbe1xuICAgICAgICAgICAgICAgIGh1ZTogJG1haW5fY29sb3JcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IFwib25cIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbGlnaHRuZXNzOiAkYnJpZ2h0bmVzc1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgc2F0dXJhdGlvbjogJHNhdHVyYXRpb25cbiAgICAgICAgfV1cblxuICAgIH0sIHtcbiAgICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInJvYWRcIixcbiAgICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5LmZpbGxcIixcbiAgICAgICAgICAgIHN0eWxlcnM6IFt7XG4gICAgICAgICAgICAgICAgaHVlOiAkbWFpbl9jb2xvclxuICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogXCJvblwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBsaWdodG5lc3M6ICRicmlnaHRuZXNzXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBzYXR1cmF0aW9uOiAkc2F0dXJhdGlvblxuICAgICAgICB9XVxuICAgIH0sIHtcbiAgICAgICAgICAgIGZlYXR1cmVUeXBlOiBcInJvYWQuaGlnaHdheVwiLFxuICAgICAgICAgICAgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnkuZmlsbFwiLFxuICAgICAgICAgICAgc3R5bGVyczogW3tcbiAgICAgICAgICAgICAgICBodWU6ICRtYWluX2NvbG9yXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBcIm9uXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGxpZ2h0bmVzczogJGJyaWdodG5lc3NcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHNhdHVyYXRpb246ICRzYXR1cmF0aW9uXG4gICAgICAgIH1dXG4gICAgfSwge1xuICAgICAgICAgICAgZmVhdHVyZVR5cGU6IFwid2F0ZXJcIixcbiAgICAgICAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5XCIsXG4gICAgICAgICAgICBzdHlsZXJzOiBbe1xuICAgICAgICAgICAgICAgIGh1ZTogJG1haW5fY29sb3JcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IFwib25cIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbGlnaHRuZXNzOiAkYnJpZ2h0bmVzc1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgc2F0dXJhdGlvbjogJHNhdHVyYXRpb25cbiAgICAgICAgfV1cbiAgICB9XG5dO1xuXG4gICAgLy9zZXQgZ29vZ2xlIG1hcCBvcHRpb25zXG4gICAgdmFyIG1hcF9vcHRpb25zID0ge1xuICAgICAgICBjZW50ZXI6IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoJGxhdGl0dWRlLCAkbG9uZ2l0dWRlKSxcbiAgICAgICAgem9vbTogJG1hcF96b29tLFxuICAgICAgICBwYW5Db250cm9sOiBmYWxzZSxcbiAgICAgICAgem9vbUNvbnRyb2w6IGZhbHNlLFxuICAgICAgICBtYXBUeXBlQ29udHJvbDogZmFsc2UsXG4gICAgICAgIHN0cmVldFZpZXdDb250cm9sOiBmYWxzZSxcbiAgICAgICAgbWFwVHlwZUlkOiBnb29nbGUubWFwcy5NYXBUeXBlSWQuUk9BRE1BUCxcbiAgICAgICAgc2Nyb2xsd2hlZWw6IGZhbHNlLFxuICAgICAgICBzdHlsZXM6IHN0eWxlLFxuICAgIH07XG4gICAgLy9pbml6aWFsaXplIHRoZSBtYXBcbiAgICB2YXIgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc25yZy1tYXAnKSwgbWFwX29wdGlvbnMpO1xuICAgIC8vYWRkIGEgY3VzdG9tIG1hcmtlciB0byB0aGUgbWFwXG4gICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuICAgICAgICBwb3NpdGlvbjogbmV3IGdvb2dsZS5tYXBzLkxhdExuZygkbGF0aXR1ZGUsICRsb25naXR1ZGUpLFxuICAgICAgICBtYXA6IG1hcCxcbiAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgaWNvbjogJG1hcmtlcl91cmwsXG4gICAgfSk7XG5cbiAgICAvL2FkZCBjdXN0b20gYnV0dG9ucyBmb3IgdGhlIHpvb20taW4vem9vbS1vdXQgb24gdGhlIG1hcFxuICAgIGZ1bmN0aW9uIEN1c3RvbVpvb21Db250cm9sKGNvbnRyb2xEaXYsIG1hcCkge1xuICAgICAgICAvL2dyYXAgdGhlIHpvb20gZWxlbWVudHMgZnJvbSB0aGUgRE9NIGFuZCBpbnNlcnQgdGhlbSBpbiB0aGUgbWFwXG4gICAgICAgIHZhciBjb250cm9sVUl6b29tSW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc25yZy16b29tLWluJyksXG4gICAgICAgICAgICBjb250cm9sVUl6b29tT3V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nucmctem9vbS1vdXQnKTtcbiAgICAgICAgY29udHJvbERpdi5hcHBlbmRDaGlsZChjb250cm9sVUl6b29tSW4pO1xuICAgICAgICBjb250cm9sRGl2LmFwcGVuZENoaWxkKGNvbnRyb2xVSXpvb21PdXQpO1xuXG4gICAgICAgIC8vIFNldHVwIHRoZSBjbGljayBldmVudCBsaXN0ZW5lcnMgYW5kIHpvb20taW4gb3Igb3V0IGFjY29yZGluZyB0byB0aGUgY2xpY2tlZCBlbGVtZW50XG4gICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZERvbUxpc3RlbmVyKGNvbnRyb2xVSXpvb21JbiwgJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBtYXAuc2V0Wm9vbShtYXAuZ2V0Wm9vbSgpICsgMSk7XG4gICAgICAgIH0pO1xuICAgICAgICBnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lcihjb250cm9sVUl6b29tT3V0LCAnY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG1hcC5zZXRab29tKG1hcC5nZXRab29tKCkgLSAxKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIHpvb21Db250cm9sRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHpvb21Db250cm9sID0gbmV3IEN1c3RvbVpvb21Db250cm9sKHpvb21Db250cm9sRGl2LCBtYXApO1xuXG4gICAgLy9pbnNlcnQgdGhlIHpvb20gZGl2IG9uIHRoZSB0b3AgbGVmdCBvZiB0aGUgbWFwXG4gICAgbWFwLmNvbnRyb2xzW2dvb2dsZS5tYXBzLkNvbnRyb2xQb3NpdGlvbi5MRUZUX1RPUF0ucHVzaCh6b29tQ29udHJvbERpdik7Il0sImZpbGUiOiJtYXAubWluLmpzIn0=
